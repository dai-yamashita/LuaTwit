<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>LuaTwit reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>LuaTwit</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Fields">Fields</a></li>
<li><a href="#Class_api">Class api </a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><strong>luatwit</strong></li>
  <li><a href="../modules/luatwit.http.html">luatwit.http</a></li>
  <li><a href="../modules/luatwit.objects.html">luatwit.objects</a></li>
  <li><a href="../modules/luatwit.resources.html">luatwit.resources</a></li>
  <li><a href="../modules/luatwit.util.html">luatwit.util</a></li>
</ul>
<h2>Topics</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../topics/README.md.html">README</a></li>
</ul>
<h2>Examples</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../examples/async.lua.html">async.lua</a></li>
  <li><a href="../examples/authorize.lua.html">authorize.lua</a></li>
  <li><a href="../examples/followers.lua.html">followers.lua</a></li>
  <li><a href="../examples/gtk_client.lua.html">gtk_client.lua</a></li>
  <li><a href="../examples/repl.lua.html">repl.lua</a></li>
  <li><a href="../examples/set_avatar.lua.html">set_avatar.lua</a></li>
  <li><a href="../examples/stream.lua.html">stream.lua</a></li>
  <li><a href="../examples/timeline.lua.html">timeline.lua</a></li>
  <li><a href="../examples/tweet.lua.html">tweet.lua</a></li>
  <li><a href="../examples/user_info.lua.html">user_info.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>luatwit</code></h1>
<p>Lua library for accessing the Twitter REST and Streaming API v1.1</p>
<p></p>
    <h3>Info:</h3>
    <ul>
        <li><strong>License</strong>: MIT/X11</li>
        <li><strong>Author</strong>: darkstalker <https://github.com/darkstalker></li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#load_keys">load_keys (...)</a></td>
	<td class="summary">Helper to load OAuth keys from text files.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#attach_file">attach_file (filename)</a></td>
	<td class="summary">Loads a file and prepares it for a multipart request.</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#type">type</a></td>
	<td class="summary">Gets the type of the supplied object.</td>
	</tr>
</table>
<h2><a href="#Class_api">Class api </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#api:raw_call">api:raw_call (decl, args, defaults)</a></td>
	<td class="summary">Generic call to the Twitter API.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#api:oauth_authorize_url">api:oauth_authorize_url ()</a></td>
	<td class="summary">Generates the OAuth authorization URL.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#api:set_callback_handler">api:set_callback_handler (fn)</a></td>
	<td class="summary">Sets the callback handler function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#api:http_request">api:http_request (args)</a></td>
	<td class="summary">Performs an HTTP request.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#api.new">api.new (keys, resources, objects)</a></td>
	<td class="summary">Creates a new <a href="../modules/luatwit.html#api">api</a> object with the supplied keys.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "load_keys"></a>
    <strong>load_keys (...)</strong>
    </dt>
    <dd>
    Helper to load OAuth keys from text files.
 Key files are loaded as <code>key = value</code> pairs.
 It also accepts tables as arguments (useful when using <a href="http://www.lua.org/manual/5.2/manual.html#pdf-require">require</a>).



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
           Filenames (config files) or tables with the keys to load.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Table with the keys found.
    </ol>




</dd>
    <dt>
    <a name = "attach_file"></a>
    <strong>attach_file (filename)</strong>
    </dt>
    <dd>
    Loads a file and prepares it for a multipart request.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
          File to be read.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        On success, a table with the file contents. On error <code>nil</code>.</li>
        <li>
        The error message in case of failure.</li>
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/luatwit.resources.html#upload_media">luatwit.resources.upload_media</a>
    </ul>


</dd>
</dl>
    <h2><a name="Fields"></a>Fields</h2>

    <dl class="function">
    <dt>
    <a name = "type"></a>
    <strong>type</strong>
    </dt>
    <dd>
    Gets the type of the supplied object.





    <h3>See also:</h3>
    <ul>
         <a href="../modules/luatwit.util.html#type">luatwit.util.type</a>
    </ul>


</dd>
</dl>
    <h2><a name="Class_api"></a>Class api </h2>

        Class prototype that implements the API calls.
 Methods are created on demand from the definitions in the <code>self.resources</code> table (by default <a href="../modules/luatwit.resources.html#">luatwit.resources</a>).
    <dl class="function">
    <dt>
    <a name = "api:raw_call"></a>
    <strong>api:raw_call (decl, args, defaults)</strong>
    </dt>
    <dd>
    Generic call to the Twitter API.
 This is the backend method that performs all the API calls.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">decl</span>
              Resource declaration (from <a href="../modules/luatwit.resources.html#">luatwit.resources</a>).
        </li>
        <li><span class="parameter">args</span>
              Table with the method arguments.
        </li>
        <li><span class="parameter">defaults</span>
          Default method arguments.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        A table with the decoded JSON data from the response, or <code>nil</code> on error.
                  If the option <code>_async</code> or <code>_callback</code> is set, instead it returns a <a href="../modules/luatwit.http.html#future">luatwit.http.future</a> object.</li>
        <li>
        HTTP headers. On error, instead it will be a string or a <a href="../modules/luatwit.objects.html#error">luatwit.objects.error</a> describing the error.</li>
        <li>
        If an API error ocurred, the HTTP headers of the request.</li>
    </ol>




</dd>
    <dt>
    <a name = "api:oauth_authorize_url"></a>
    <strong>api:oauth_authorize_url ()</strong>
    </dt>
    <dd>
    Generates the OAuth authorization URL.



    <h3>Returns:</h3>
    <ol>

        Authorization URL.
    </ol>




</dd>
    <dt>
    <a name = "api:set_callback_handler"></a>
    <strong>api:set_callback_handler (fn)</strong>
    </dt>
    <dd>
    Sets the callback handler function.
 The callback handler is called after every async request that uses the <code>_callback</code> option. This function has to do the
 necessary setup to watch the future and send the result to the callback when it's ready.
 This way we can work with external event loops in a transparent way.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fn</span>
            Callback handler function. This is called as <code>fn(fut, callback)</code>, where <code>fut</code> is the result from an async
              API call and <code>callback</code> is the value passed in the request's <code>_callback</code> argument.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "api:http_request"></a>
    <strong>api:http_request (args)</strong>
    </dt>
    <dd>
    Performs an HTTP request.
 This method allows using the library features (like callback_handler) with regular HTTP requests.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">args</span>
          Table with request arguments (method, url, body, headers, _async, _callback, _stream).
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        Request response, or a <a href="../modules/luatwit.http.html#future">luatwit.http.future</a> object if the <code>_async</code> or <code>_callback</code> options were used.
    </ol>




</dd>
    <dt>
    <a name = "api.new"></a>
    <strong>api.new (keys, resources, objects)</strong>
    </dt>
    <dd>
    Creates a new <a href="../modules/luatwit.html#api">api</a> object with the supplied keys.
 An object created with only the consumer keys must call <code>api:start_login</code> and <code>api:confirm_login</code> to get the access token,
 otherwise it won't be able to make API calls.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">keys</span>
              Table with the OAuth keys (consumer_key, consumer_secret, oauth_token, oauth_token_secret).
        </li>
        <li><span class="parameter">resources</span>
         Table with the API interface definition (default <a href="../modules/luatwit.resources.html#">luatwit.resources</a>).
        </li>
        <li><span class="parameter">objects</span>
           Table with the API objects definition (default <a href="../modules/luatwit.objects.html#">luatwit.objects</a>).
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        New instance of the <a href="../modules/luatwit.html#api">api</a> class.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../modules/luatwit.objects.html#access_token">luatwit.objects.access_token</a>
    </ul>


</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2015-04-15 00:14:34 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
